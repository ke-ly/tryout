<app-page title="表单设置">
    <div class="form">
        <ng-card class="components">
            <ng-card-title>
                基础字段
            </ng-card-title>
            <div>
                <ul class="cates" cdkDropList #cateList="cdkDropList" [cdkDropListData]="categories"
                    cdkDropListSortingDisabled [cdkDropListConnectedTo]="[contentList]" (cdkDropListEntered)="entered()"
                    (cdkDropListDropped)="drop($event)" (cdkDropListExited)="exited($event)">
                    <li class="cate-item" *ngFor="let item of categories" cdkDrag [cdkDragData]="item">
                        <div class="cate-placeholder" *cdkDragPlaceholder>{{item.title}}</div>
                        <a>
                            <ng-icon [type]="item.icon"></ng-icon> {{item.title}}
                        </a>
                    </li>
                </ul>
            </div>
        </ng-card>
        <div class="result">
            <div style="display: flex;justify-content:space-between">
                <h3 class="sub-title">
                    表单内容
                </h3>
                <div>
                    <button mat-raised-button color="primary" (click)="handleSave()">保存设置</button>
                </div>
            </div>
            <ng-card class="ng-card" #resultWrapper cdkDropList #contentList="cdkDropList" [cdkDropListData]="content"
                (cdkDropListDropped)="drop($event)">
                <div class="content">
                    <div>
                        <div class="result-item" [ngClass]="{active: editedKey === item.key}"
                            (click)="handleChangeActive(item.key)" *ngFor="let item of content" cdkDrag>
                            <p class="title">{{item.title}}</p>
                            <div [ngSwitch]="item.id">
                                <div *ngSwitchCase="1">
                                    <input matInput readonly [placeholder]="item.placeholder!" />
                                </div>
                                <div *ngSwitchCase="2">
                                    <textarea matInput rows="5" readonly [placeholder]="item.placeholder!"></textarea>
                                </div>
                                <div *ngSwitchCase="3">
                                    <input matInput readonly type="number" [placeholder]="item.placeholder!" />
                                </div>
                                <div *ngSwitchDefault>output2</div>
                            </div>
                            <!-- <h1 *cdkDragPlaceholder> dfagfa </h1> -->
                        </div>
                    </div>
                </div>
            </ng-card>
        </div>
        <ng-card class="property">
            <ng-card-title>
                属性
            </ng-card-title>
            <div *ngIf="editedKey">
                <form class="property-form" [formGroup]="propForm">
                    <div class="form-item">
                        <p class="form-item-label">标题</p>
                        <div>
                            <input matInput formControlName="title" placeholder="请输入标题" />
                        </div>
                    </div>
                    <div class="form-item">
                        <p class="form-item-label">提示文字</p>
                        <div>
                            <input matInput formControlName="placeholder" placeholder="请输入提示文字" />
                        </div>
                    </div>
                </form>
            </div>

        </ng-card>
    </div>
</app-page>